@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

/* ERP Design System - Dark sidebar, light workspace */

@layer base {
  :root {
    --background: 225 33% 98%;
    --foreground: 222 47% 11%;

    --card: 0 0% 100%;
    --card-foreground: 222 47% 11%;

    --popover: 0 0% 100%;
    --popover-foreground: 222 47% 11%;

    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;

    --secondary: 210 40% 96%;
    --secondary-foreground: 222 47% 11%;

    --muted: 210 40% 96%;
    --muted-foreground: 215 16% 47%;

    --accent: 217 91% 60%;
    --accent-foreground: 0 0% 100%;

    --destructive: 0 84% 60%;
    --destructive-foreground: 0 0% 100%;

    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;

    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;

    --info: 199 89% 48%;
    --info-foreground: 0 0% 100%;

    --border: 214 32% 91%;
    --input: 214 32% 91%;
    --ring: 217 91% 60%;

    --radius: 1rem;

    /* Sidebar clara estilo SaaS */
    --sidebar-background: 0 0% 100%;
    --sidebar-foreground: 222 47% 11%;
    --sidebar-primary: 262 83% 58%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 262 83% 58%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 214 32% 91%;
    --sidebar-ring: 262 83% 58%;
    --sidebar-muted: 215 16% 47%;
  }

  .dark {
    --background: 222 47% 11%;
    --foreground: 210 40% 98%;

    --card: 217 33% 17%;
    --card-foreground: 210 40% 98%;

    --popover: 217 33% 17%;
    --popover-foreground: 210 40% 98%;

    --primary: 217 91% 60%;
    --primary-foreground: 0 0% 100%;

    --secondary: 217 33% 17%;
    --secondary-foreground: 210 40% 98%;

    --muted: 217 33% 17%;
    --muted-foreground: 215 20% 65%;

    --accent: 217 33% 17%;
    --accent-foreground: 210 40% 98%;

    --destructive: 0 63% 31%;
    --destructive-foreground: 210 40% 98%;

    --success: 142 76% 36%;
    --success-foreground: 0 0% 100%;

    --warning: 38 92% 50%;
    --warning-foreground: 0 0% 100%;

    --info: 199 89% 48%;
    --info-foreground: 0 0% 100%;

    --border: 217 33% 17%;
    --input: 217 33% 17%;
    --ring: 217 91% 60%;

    --sidebar-background: 222 47% 8%;
    --sidebar-foreground: 210 40% 98%;
    --sidebar-primary: 262 83% 58%;
    --sidebar-primary-foreground: 0 0% 100%;
    --sidebar-accent: 262 83% 58%;
    --sidebar-accent-foreground: 0 0% 100%;
    --sidebar-border: 217 33% 14%;
    --sidebar-ring: 262 83% 58%;
    --sidebar-muted: 215 20% 65%;
  }
}

@layer base {
  * {
    @apply border-border;
  }

  body {
    @apply bg-background text-foreground font-sans antialiased;
    font-family: 'Inter', ui-sans-serif, system-ui, sans-serif;
    overscroll-behavior-y: none;
  }

  html,
  body,
  #root {
    height: 100%;
  }

}

.app-locked {
  overflow: hidden;
}

@layer components {
  .app-shell {
    @apply flex h-svh flex-col bg-background;
    background: #f7f9fc;
  }

  .app-header {
    @apply sticky top-0 z-40 flex h-16 shrink-0 items-center justify-between gap-2 border-b bg-card px-6;
    padding-top: env(safe-area-inset-top);
  }

  .app-title {
    @apply text-base font-semibold tracking-tight sm:text-lg;
  }

  .app-content {
    @apply min-h-0 flex-1 overflow-y-auto px-6 py-6 pb-24 sm:px-8 sm:py-8 sm:pb-8;
    -webkit-overflow-scrolling: touch;
  }

  .app-bottom-nav {
    @apply fixed bottom-0 left-0 right-0 z-40 grid grid-cols-5 gap-1 border-t bg-card/95 px-2 py-2 backdrop-blur;
    padding-bottom: calc(0.5rem + env(safe-area-inset-bottom));
  }

  .bottom-nav-item {
    @apply flex flex-col items-center justify-center gap-1 rounded-lg px-2 py-2 text-xs text-muted-foreground transition-colors;
  }

  .bottom-nav-item:active {
    @apply bg-muted;
  }

  .bottom-nav-active {
    @apply text-foreground bg-muted;
  }

  .bottom-nav-icon {
    @apply h-6 w-6;
  }

  .bottom-nav-label {
    @apply text-[11px] font-medium;
  }

  .catalog-grid {
    @apply grid gap-6;
    grid-template-columns: repeat(var(--catalog-cols-mobile, 2), minmax(0, 1fr));
  }

  @media (min-width: 1024px) {
    .catalog-grid {
      grid-template-columns: repeat(var(--catalog-cols-desktop, 4), minmax(0, 1fr));
    }
  }

  .kanban-board {
    @apply grid gap-4;
  }

  @media (max-width: 768px) {
    .kanban-board {
      grid-auto-flow: column;
      grid-auto-columns: minmax(260px, 80vw);
      overflow-x: auto;
      padding-bottom: 12px;
      scroll-snap-type: x mandatory;
    }

    .kanban-board > * {
      scroll-snap-align: start;
    }
  }

  .page-container {
    @apply space-y-6;
  }

  .page-header {
    @apply -mx-4 flex flex-col gap-2 px-4 py-2 sm:-mx-6 sm:flex-row sm:items-center sm:justify-between sm:px-6;
  }

  .page-title {
    @apply text-xl font-semibold tracking-tight sm:text-2xl;
  }

  .stat-card {
    @apply bg-card rounded-lg border p-4 shadow-sm transition-shadow hover:shadow-md;
  }

  .stat-value {
    @apply text-2xl font-bold;
  }

  .stat-label {
    @apply text-sm text-muted-foreground;
  }

  .data-table {
    @apply w-full border-collapse;
  }

  .data-table th {
    @apply px-4 py-3 text-left text-xs font-medium uppercase tracking-wider text-muted-foreground bg-muted/50;
  }

  .data-table td {
    @apply px-4 py-3 text-sm border-t;
  }

  .data-table tr:hover td {
    @apply bg-muted/30;
  }

  .table-stack {
    @apply w-full border-collapse;
  }

  @media (max-width: 768px) {
    .table-stack thead {
      display: none;
    }

    .table-stack tbody {
      display: block;
    }

    .table-stack tr {
      display: block;
      border: 1px solid hsl(var(--border));
      border-radius: 12px;
      padding: 12px;
      margin-bottom: 12px;
      background: hsl(var(--card));
      box-shadow: 0 4px 16px rgba(15, 23, 42, 0.06);
    }

    .table-stack td {
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 12px;
      padding: 6px 0;
      border: 0;
    }

    .table-stack td::before {
      content: attr(data-label);
      font-weight: 600;
      color: hsl(var(--muted-foreground));
    }
  }

  .status-badge {
    @apply inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium;
  }

  .status-orcamento {
    @apply bg-blue-100 text-blue-800;
  }

  .status-pendente {
    @apply bg-orange-100 text-orange-800;
  }

  .status-em_producao {
    @apply bg-yellow-100 text-yellow-800;
  }

  .status-produzindo_arte {
    @apply bg-indigo-100 text-indigo-800;
  }

  .status-arte_aprovada {
    @apply bg-emerald-100 text-emerald-800;
  }

  .status-pronto {
    @apply bg-green-100 text-green-800;
  }

  .status-finalizado {
    @apply bg-green-100 text-green-800;
  }

  .status-entregue {
    @apply bg-gray-100 text-gray-800;
  }

  .status-cancelado {
    @apply bg-red-100 text-red-800;
  }
}

@layer utilities {
  .scrollbar-thin {
    scrollbar-width: thin;
    scrollbar-color: hsl(var(--muted)) transparent;
  }

  .scrollbar-thin::-webkit-scrollbar {
    width: 6px;
    height: 6px;
  }

  .scrollbar-thin::-webkit-scrollbar-track {
    background: transparent;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb {
    background-color: hsl(var(--muted-foreground) / 0.3);
    border-radius: 3px;
  }

  .scrollbar-thin::-webkit-scrollbar-thumb:hover {
    background-color: hsl(var(--muted-foreground) / 0.5);
  }
}

@media print {
  .receipt-root {
    border: none;
    box-shadow: none;
    max-width: none;
  }

  .receipt-fixed {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    background: #ffffff;
    padding: 12px 24px;
    border-bottom: 1px solid #e2e8f0;
  }

  .receipt-content {
    margin-top: 120px;
  }

  .receipt-block {
    break-inside: avoid;
    page-break-inside: avoid;
  }

  .receipt-table thead {
    display: table-header-group;
  }

  .receipt-row {
    break-inside: avoid;
    page-break-inside: avoid;
  }
}
